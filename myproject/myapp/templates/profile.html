{% extends "base.html" %}
{% block title %}SMART AI FACTORY{% endblock %}
{% block content %}
    <div class="navigation w-100 h-100">
        <div class="left h-100 d-inline-block">
            {% include "layout/menu.html" %}
        </div>
        <div class="contain_box">
            <div class="top_box">
                {% include "layout/title.html" %}
            </div>
            <div class="center_box_01_01 fons13 graycc">
                <div class="w_30 d_j_start">
                    <span>목표 생산</span>
                    <span id="counter" class="fons22 whit roboto500"></span>
                    <span>개</span>
                </div>
                <div class="w_30 d_j_center">
                    <span>현재 생산</span>
                    <span class="fons22 whit roboto400">104900</span>
                    <span>개</span>
                    <span class="gray70">/</span>
                    <span class="fons22 roboto300">98.5</span>
                    <span >%</span>
                </div>
                <div class="w_30 d_j_end">
                    <span>불량</span>
                    <span class="fons22 whit roboto400">100</span>
                    <span>개</span>
                    <span class="gray70">/</span>
                    <span class="fons22 roboto300">2.5</span>
                    <span>%</span>
                </div>
                <!-- <div class="wow flipInX" data-wow-duration="2s" data-wow-delay="0.5s" data-wow-iteration="infinite">
                    <div class="digit">
                        <div class="flip-top">5</div>
                        <div class="flip-bottom">5</div>
                    </div>
                    <div class="digit">
                        <div class="flip-top">0</div>
                        <div class="flip-bottom">0</div>
                    </div>
                    <div class="digit">
                        <div class="flip-top">0</div>
                        <div class="flip-bottom">0</div>
                    </div>
                    <div class="digit">
                        <div class="flip-top">0</div>
                        <div class="flip-bottom">0</div>
                    </div>                 
                </div>                 -->
            </div>

            <div class="center_box_01_02">
                <div class="card" style="width:50%;">
                    <div class="card-body">
                        <p class="notosans400 fons13">작업현황</p>
                        
                        <div class="map_box" style="overflow: hidden; margin-bottom: 15px;">
                            <img src="\static\img\map_short.png" style="height:100%;"/>
                            <div class="1-1" style="position: absolute; z-index: 100; top:142px; left: 132px;">
                                <img class="a" style="position: absolute; z-index: 300; width: 25px; bottom:10px; right: -8.5px;" src="http://127.0.0.1:8000/static/img/location_on.svg"/>
                                <i type="button" class="dot_blue"></i>
                            </div>
                            <div class="1-2" style="position: absolute; z-index: 100; top:156px; left: 155px;" >
                                <i type="button" class="dot_blue"></i>
                            </div>
                            <div class="1-3" style="position: absolute; z-index: 100; top:228px; left: 19px;" >
                                <i type="button" class="dot_blue"></i>
                            </div>
                            <div class="1-4" style="position: absolute; z-index: 100; top:256px; left: 63px;" >
                                <i type="button" class="dot_blue"></i>
                            </div>
                            <div class="2-1" style="position: absolute; z-index: 100; top:248px; left: 79px;" >
                                <i type="button" class="dot_blue"></i>
                            </div>
                            <div class="2-2" style="position: absolute; z-index: 100; top:89px; left: 314px;" >
                                <i type="button" class="dot_blue"></i>
                            </div>
                            <div class="2-3" style="position: absolute; z-index: 100; top:125px; left: 377px;" >
                                <i type="button" class="dot_blue"></i>
                            </div>
                            <div class="2-4" style="position: absolute; z-index: 100; top:112px; left: 402px;" >
                                <i type="button" class="dot_blue"></i>
                            </div>
                            <div class="3-1" style="position: absolute; z-index: 100; top:172px; left: 502px;" >
                                <i type="button" class="dot_blue"></i>
                            </div>
                            <div class="3-2" style="position: absolute; z-index: 100; top:233px; left: 392px;" >
                                <i type="button" class="dot_blue"></i>
                            </div>
                            <div class="3-3" style="position: absolute; z-index: 100; top:301px; left: 511px;" >
                                <i type="button" class="dot_blue"></i>
                            </div>
                        </div>
                        <div class="nav_right fons10 gray70">
                            <p class="ico_btn">
                                <span class="dot_blue"></span>
                                <span>작업중</span>
                            </p>
                            <p class="ico_btn">
                                <span class="dot_yello"></span>
                                <span>충전중</span>
                            </p>
                            <p class="ico_btn">
                                <span class="dot_glay"></span>
                                <span>대기중</span>
                            </p>
                            <p class="ico_btn">
                                <span class="dot_red"></span>
                                <span>중단</span>
                            </p>
                        </div>
                        <div class="box_car_between">
                            <div class="box_car_00">
                                <div class="box_car_between">
                                    <div class="fons22 roboto500">
                                        HD-1500-00
                                        <span class="uil uil-signal-alt fons17"></span>
                                    </div>
                                    <div class="fons22 roboto400 battery">
                                        0 %
                                    </div>
                                </div>
                                <div class="box_car_between">
                                    <div class="ico_btn fons10">
                                        <span class="dot_blue"></span>
                                        <span>작업중</span>
                                    </div>
                                    <div class="fons10 gray70">
                                        <span class="qr fons12 Poppin500">0-0</span> 에서 이동중
                                    </div>
                                </div>
                            </div>
                            <div class="box_car_00">
                                <div class="box_car_between">
                                    <div class="fons22 roboto500">
                                        HD-1500-00
                                        <span class="uil uil-signal-alt fons17"></span>
                                    </div>
                                    <div class="fons22 roboto400 battery">
                                        1 %
                                    </div>
                                </div>
                                <div class="box_car_between">
                                    <div class="ico_btn fons10">
                                        <span class="dot_yello"></span>
                                        <span>충전중</span>
                                    </div>
                                    <div class=" fons10 gray70">
                                        <span class="qr fons12 Poppin500">0-0</span> 에서 이동중
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="box_car_between" style="margin-top:8px;">
                            <div class="box_car_00">
                                <div class="box_car_between">
                                    <div class="fons22 roboto500">
                                        HD-1500-00
                                        <span class="uil uil-signal-alt fons17"></span>
                                    </div>
                                    <div class="fons22 roboto400 battery">
                                        2 %
                                    </div>
                                </div>
                                <div class="box_car_between">
                                    <div class="ico_btn fons10">
                                        <span class="dot_blue"></span>
                                        <span>작업중</span>
                                    </div>
                                    <div class="fons10 gray70">
                                        <span class="qr fons12 Poppin500">0-0</span> 에서 이동중
                                    </div>
                                </div>
                            </div>
                            <div class="box_car_00">
                                <div class="box_car_between">
                                    <div class="fons22 roboto500">
                                        HD-1500-00
                                        <span class="uil uil-signal-alt fons17"></span>
                                    </div>
                                    <div class="fons22 roboto400 battery">
                                        3 %
                                    </div>
                                </div>
                                <div class="box_car_between">
                                    <div class="ico_btn fons10">
                                        <span class="dot_yello"></span>
                                        <span>충전중</span>
                                    </div>
                                    <div class=" fons10 gray70">
                                        <span class="qr fons12 Poppin500">0-0</span> 에서 이동중
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="box_car_between" style="margin-top:8px;">
                            <div class="box_car_00">
                                <div class="box_car_between">
                                    <div class="fons22 roboto500">
                                        HD-1500-00
                                        <span class="uil uil-signal-alt fons17"></span>
                                    </div>
                                    <div class="fons22 roboto400">
                                        50%
                                    </div>
                                </div>
                                <div class="box_car_between">
                                    <div class="ico_btn fons10">
                                        <span class="dot_blue"></span>
                                        <span>작업중</span>
                                    </div>
                                    <div class="fons10 gray70">
                                        <span class="qr fons12 Poppin500">0-0</span> 에서 이동중
                                    </div>
                                </div>
                            </div>
                            <div class="box_car_00">
                                <div class="box_car_between">
                                    <div class="fons22 roboto500">
                                        HD-1500-00
                                        <span class="uil uil-signal-alt fons17"></span>
                                    </div>
                                    <div class="fons22 roboto400">
                                        17%
                                    </div>
                                </div>
                                <div class="box_car_between">
                                    <div class="ico_btn fons10">
                                        <span class="dot_yello"></span>
                                        <span>충전중</span>
                                    </div>
                                    <div class=" fons10 gray70">
                                        A-01로 이동중
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="box_car_between" style="margin:8px 0 12px;">
                            <div class="box_car_00">
                                <div class="box_car_between">
                                    <div class="fons22 roboto500">
                                        HD-1500-00
                                        <span class="uil uil-signal-alt fons17"></span>
                                    </div>
                                    <div class="fons22 roboto400">
                                        50%
                                    </div>
                                </div>
                                <div class="box_car_between">
                                    <div class="ico_btn fons10">
                                        <span class="dot_blue"></span>
                                        <span>작업중</span>
                                    </div>
                                    <div class="fons10 gray70">
                                        <span class="qr fons12 Poppin500">0-0</span> 에서 이동중
                                    </div>
                                </div>
                            </div>
                            <div class="box_car_00">
                                <div class="box_car_between">
                                    <div class="fons22 roboto500">
                                        HD-1500-00
                                        <span class="uil uil-signal-alt fons17"></span>
                                    </div>
                                    <div class="fons22 roboto400">
                                        17%
                                    </div>
                                </div>
                                <div class="box_car_between">
                                    <div class="ico_btn fons10">
                                        <span class="dot_yello"></span>
                                        <span>충전중</span>
                                    </div>
                                    <div class=" fons10 gray70">
                                        <span class="qr fons12 Poppin500">0-0</span> 에서 이동중
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                </div>
                <!-- 임시 캡쳐 공간 -->
                <!-- <canvas style="position: absolute; top:0; left: 0; z-index: 100; color: #fff; font-size: 50px;" class="capture">ㅇ</canvas> -->

                <div class="card" style="width:50%;">
                    <div class="card-body">
                        <p class="notosans400 fons13">실시간 품질 검사</p>
                        <div class="map_box" style="overflow: hidden;">
                            
                            <div id="capture" >
                                <!-- <img src="http://192.168.137.248:8080/stream?topic=/csi_cam_0/image_raw"/> -->
                                <img class="videoStream" muted playsinline autoplay src style="width:100%;" />
                            </div>
                            <canvas style="position: absolute; top:0; left: 0; z-index: 100;" class="capture"></canvas>
                        
                        </div>
                        <div style="position: absolute; top:15px; right: 17px;">
                            <button type="button" class="btn btn-sm btn-outline-secondary cap-btn" style="font-size: 10px;">캡쳐</button>
                            <button type="button" class="btn btn-sm btn-outline-secondary dow-btn" style="font-size: 10px;">저장</button>
                            
                        </div>
                        <p class="notosans400 fons13" style="margin:17px 0 14px;">이상 감지</p>
                        <table class="table table-striped table-hover">
                            <thead>
                                <tr style="border-top: 1px solid #eee;">
                                <th scope="col">No</th>
                                <th scope="col">First</th>
                                <th scope="col">Last</th>
                                <th scope="col">Handle</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                <th scope="row">1</th>
                                <td>Mark</td>
                                <td>Otto</td>
                                <td>@mdo</td>
                                </tr>
                                <tr>
                                <th scope="row">2</th>
                                <td>Jacob</td>
                                <td>Thornton</td>
                                <td>@fat</td>
                                </tr>
                                <tr>
                                <th scope="row">3</th>
                                <td colspan="2">Larry the Bird</td>
                                <td>@twitter</td>
                                </tr>
                                <tr>
                                <th scope="row">4</th>
                                <td>Mark</td>
                                <td>Otto</td>
                                <td>@mdo</td>
                                </tr>
                                <tr>
                                <th scope="row">5</th>
                                <td>Jacob</td>
                                <td>Thornton</td>
                                <td>@fat</td>
                                </tr>
                                <tr>
                                <th scope="row">6</th>
                                <td colspan="2">Larry the Bird</td>
                                <td>@twitter</td>
                                </tr>
                                <tr>
                                <th scope="row">7</th>
                                <td>Mark</td>
                                <td>Otto</td>
                                <td>@mdo</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="fons12 gray70" style="padding:10px 0 0 20px;">Copyrightⓒ 2024 class() All rights reserved.</div>

        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/roslibjs/1.1.0/roslib.min.js" integrity="sha512-x2Owc9WayRcRj80Znkau58shVfXN2OIX+gQAlrx6KPugZBKrIC6AwgEWQQCI06p2Q8RB4ilxD+y+1BdNd+1fQA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
        var currentNumber = 0;
        var interval = setInterval(() => {
          document.getElementById('counter').textContent = currentNumber;
          currentNumber += 100;
          if (currentNumber > 105001) {
            clearInterval(interval);
            };
            }, 1); // 매 100밀리초(0.1초)마다 숫자를 증가시킴
        });

        /* JQUERY TEST */
        let location_nav = document.querySelector(".map_box");
        let location_on = location_nav.querySelectorAll(".dot_blue");
        //   console.log(location_on);

        let qr_select = document.querySelectorAll(".qr");
        console.log(qr_select);

        
        qr_val = document.querySelectorAll('.qr')
        console.log(qr_val)
        qr_val[0].addEventListener('change', () => {

        console.log(qr_val[0].textContent);

        })

    //   if (qr_val == 1-1) {
    //     console.log('1-1 이 선택됐음');
    //     // document.getElementsByClassName('.test').innerHtml = 삐리리
    //   }

        // $(function(){
        //     $(location_on).eq(0).blind('click', function(){
        //         console.log(location_on.eq(0));
        //     })
        // })

    //   $(function(){
    //     $('.dot_blue').parent().click(function(event){
    //         console.log("Jquery test")
    //         $(this).after('<img style="z-index:200; position:absolute;" src="http://127.0.0.1:8000/static/img/location-point.svg">');
    //     })
    //   })
    
    </script>
    
<!-- <script>
    window.onload = function() { setActiveMenu(0)

        // flip-clock

        const wow = new WOW(
        {
            boxClass:     'wow',      // default
            animateClass: 'animated', // default
            offset:       0,          // default
            mobile:       true,       // default
            live:         true        // default
        }
        )
        wow.init();
    }
</script> -->

<!--
파란색 포인트 이미지
<img class="a" style="position: relative; z-index: 300; width: 25px; top:-12px; left: 20px;" src="http://127.0.0.1:8000/static/img/location_on.svg"/>
-->
{% endblock %}
